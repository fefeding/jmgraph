!function(o){var t;t=function(t,e,n){var i=function r(s,a,u){function c(e,t){if(!a[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(h)return h(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[e]={exports:{}};s[e][0].call(o.exports,function(t){return c(s[e][1][t]||t)},o,o.exports,r,s,a,u)}return a[e].exports}for(var h="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmEvents=void 0;var r=t("./jmUtils.js");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var u=function(){function n(t,e){o(this,n),this.container=t,this.target=e||t,this.mouseHandler=new c(this,t,e),this.keyHandler=new h(this,t,e)}return a(n,[{key:"touchStart",value:function(t){if(t=t||window.event,this.container.raiseEvent("touchstart",t),(t.target||t.srcElement)==this.target)return!1}},{key:"touchMove",value:function(t){if(t=t||window.event,this.container.raiseEvent("touchmove",t),(t.target||t.srcElement)==this.target)return!1}},{key:"touchEnd",value:function(t){if(t=t||window.event,this.container.raiseEvent("touchend",t),(t.target||t.srcElement)==this.target)return!1}},{key:"touchCancel",value:function(t){if(t=t||window.event,this.container.raiseEvent("touchcancel",t),(t.target||t.srcElement)==target)return!1}}]),n}();n.jmEvents=u;var c=function(){function i(t,e,n){o(this,i),this.instance=t,this.container=e,this.target=n||e,this.init(t,e,n)}return a(i,[{key:"init",value:function(e,n,t){var i=this.target,o=void 0!==("undefined"==typeof document?"undefined":s(document))?document:null;r.jmUtils.bindEvent(this.target,"mousedown",function(t){t=t||window.event;n.raiseEvent("mousedown",t)}),o&&r.jmUtils.bindEvent(o,"mousemove",function(t){if(((t=t||window.event).target||t.srcElement)==i){n.raiseEvent("mousemove",t);return t.preventDefault&&t.preventDefault(),!1}}),r.jmUtils.bindEvent(this.target,"mouseover",function(t){t=t||window.event,n.raiseEvent("mouseover",t)}),r.jmUtils.bindEvent(this.target,"mouseleave",function(t){t=t||window.event,n.raiseEvent("mouseleave",t)}),r.jmUtils.bindEvent(this.target,"mouseout",function(t){t=t||window.event,n.raiseEvent("mouseout",t)}),o&&r.jmUtils.bindEvent(o,"mouseup",function(t){if(t=t||window.event,!1===n.raiseEvent("mouseup",t))return t.preventDefault&&t.preventDefault(),!1}),r.jmUtils.bindEvent(this.target,"dblclick",function(t){t=t||window.event,n.raiseEvent("dblclick",t)}),r.jmUtils.bindEvent(this.target,"click",function(t){t=t||window.event,n.raiseEvent("click",t)}),o&&r.jmUtils.bindEvent(o,"resize",function(t){return t=t||window.event,n.raiseEvent("resize",t)}),o&&r.jmUtils.bindEvent(o,"touchstart",function(t){return e.touchStart(t)},{passive:!1}),o&&r.jmUtils.bindEvent(o,"touchmove",function(t){return e.touchMove(t)},{passive:!1}),o&&r.jmUtils.bindEvent(o,"touchend",function(t){return e.touchEnd(t)},{passive:!1}),o&&r.jmUtils.bindEvent(o,"touchcancel",function(t){return e.touchCancel(t)},{passive:!1})}}]),i}(),h=function(){function i(t,e,n){o(this,i),this.instance=t,this.container=e,this.target=n||e,this.init(e,n)}return a(i,[{key:"init",value:function(n,t){var e=void 0!==("undefined"==typeof document?"undefined":s(document))?document:null,i=function(t){var e=t.srcElement||t.target;return!e||"INPUT"!=e.tagName&&"TEXTAREA"!=e.tagName&&"ANCHOR"!=e.tagName&&"FORM"!=e.tagName&&"FILE"!=e.tagName&&"IMG"!=e.tagName&&"HIDDEN"!=e.tagName&&"RADIO"!=e.tagName&&"TEXT"!=e.tagName};e&&r.jmUtils.bindEvent(e,"keypress",function(t){if(t=t||window.event,i(t)){var e=n.raiseEvent("keypress",t);return!1===e&&t.preventDefault&&t.preventDefault(),e}}),e&&r.jmUtils.bindEvent(e,"keydown",function(t){if(t=t||window.event,i(t)){var e=n.raiseEvent("keydown",t);return!1===e&&t.preventDefault&&t.preventDefault(),e}}),e&&r.jmUtils.bindEvent(e,"keyup",function(t){if(t=t||window.event,i(t)){var e=n.raiseEvent("keyup",t);return!1===e&&t.preventDefault&&t.preventDefault(),e}})}}]),i}()},{"./jmUtils.js":5}],2:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){var i="function"==typeof Map?new Map:void 0;return(s=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,n)}function n(){return a(t,arguments,h(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,t)})(t)}function a(t,e,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&c(o,n.prototype),o}).apply(null,arguments)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.jmList=void 0;var i=function(t){function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=[],n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];if(i&&i.length&&Array.isArray(i[0])){for(var r,s=0;s<i[0].length;s++)e.push(i[0][s]);t=u(this,(r=h(a)).call.apply(r,[this].concat(e)))}else t=u(this,h(a).call(this));return t.option={},t.type="jmList",u(t)}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(a,s(Array)),e=a,(n=[{key:"add",value:function(t){if(t&&Array.isArray(t)){for(var e=0;e<t.length;e++)this.includes(t[e])||this.push(t[e]);return t}return"object"==o(t)&&this.includes(t)||this.push(t),t}},{key:"remove",value:function(t){for(var e=this.length-1;0<=e;e--)this[e]==t&&this.removeAt(e)}},{key:"removeAt",value:function(t){if(this.length>t){var e=this[t];this.splice(t,1),this.option.removeHandler&&this.option.removeHandler.call(this,e,t)}}},{key:"contain",value:function(t){return this.includes(t)}},{key:"get",value:function(t){return"function"==typeof t?this.find(t):this[t]}},{key:"each",value:function(t,e){if(t&&"function"==typeof t)if(e)for(var n=this.length-1;0<=n;n--){if(!1===t.call(this,n,this[n]))break}else for(var i=this.length,o=0;o<i;o++){if(!1===t.call(this,o,this[o]))break}}},{key:"count",value:function(t){if(t&&"function"==typeof t){for(var e=0,n=this.length,i=0;i<n;i++)t(this[i])&&e++;return e}return this.length}},{key:"clear",value:function(){this.splice(0,this.length)}}])&&r(e.prototype,n),i&&r(e,i),a}();n.jmList=i},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmObject=void 0;var o=t("./jmList.js");function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var i=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t&&"jmGraph"==t.type&&(this.graph=t)}var t,n,i;return t=e,(n=[{key:"is",value:function(t){return"string"==typeof t?this.type==t:this instanceof t}},{key:"animate",value:function(){if(this.is("jmGraph")){if(1<arguments.length){this.animateHandles||(this.animateHandles=new o.jmList);var t=[];if(2<arguments.length)for(var e=2;e<arguments.length;e++)t.push(e<0||arguments.length<=e?void 0:arguments[e]);this.animateHandles.add({millisec:(arguments.length<=1?void 0:arguments[1])||20,handle:arguments.length<=0?void 0:arguments[0],params:t})}if(this.animateHandles&&0<this.animateHandles.count()){var r=this;this.dispatcher=setTimeout(function(n){n=n||r;var i=[],o=(new Date).getTime();for(var t in n.animateHandles.each(function(t,e){try{if(e&&e.handle&&(!e.times||o-e.times>=e.millisec))!1===e.handle.apply(n,e.params)&&i.push(e),e.times=o}catch(t){window.console&&window.console.info&&window.console.info(t.toString()),e&&i.push(e)}}),i)n.animateHandles.remove(i[t]);n.animate()},10,this)}}else{var n=this.graph;n&&n.animate.apply(n,arguments)}}}])&&r(t.prototype,n),i&&r(t,i),e}();n.jmObject=i},{"./jmList.js":2}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmProperty=void 0;var r=t("./jmObject.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=Symbol("properties"),o=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=a(this,u(e).call(this)))[h]={},t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r.jmObject),n=e,(i=[{key:"__pro",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){var i=this[h],o=e[0];if(1<e.length){var r=e[1],s={oldValue:i[o],newValue:r};return i[o]=e[1],this.emit&&this.emit("propertyChange",o,s),e[1]}if(1==e.length)return i[o]}}},{key:"needUpdate",get:function(){return this.__pro("needUpdate")},set:function(t){this.__pro("needUpdate",t),t&&!this.is("jmGraph")&&this.graph&&(this.graph.needUpdate=!0)}},{key:"graph",get:function(){var t=this.__pro("graph");return t=t||this.__pro("graph",this.findParent("jmGraph"))},set:function(t){return this.__pro("graph",t)}}])&&s(n.prototype,i),o&&s(n,o),e}();n.jmProperty=o},{"./jmObject.js":3}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmUtils=void 0;var s=t("./jmList.js");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"clone",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(t&&"object"===a(t)){if(this.isType(t,s.jmList))return new s.jmList(t);if(Array.isArray(t)){if(e){for(var n=[],i=0;i<t.length;i++)n.push(this.clone(t[i],e));return n}return t.slice(0)}var o={};for(var r in o.constructor=t.constructor,t)o[r]=this.clone(t[r],e);return o}return t}},{key:"bindEvent",value:function(t,e,n,i){if(!e||!e.indexOf||-1==e.indexOf(" "))return t.attachEvent?t.attachEvent("on"+e,n,i):!!t.addEventListener&&(t.addEventListener(e,n,i),!0);for(var o=e.split(" "),r=0;r<o.length;r++)this.bindEvent(t,o[r],n,i)}},{key:"removeEvent",value:function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?(t.detachEvent("on"+e,n),!0):void(t["on"+e]=null)}},{key:"getElementPosition",value:function(t){var e={top:0,left:0};if(!t)return e;if(t.offsetParent)for(;t.offsetParent;)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;else t.x?e.left+=t.x:t.x&&(e.top+=t.y);return e}},{key:"getEventPosition",value:function(t,e){var n=!1,i=(t=t||event).changedTouches||t.targetTouches||t.touches,o=t.target||t.srcElement;i&&((t=i[0]).target||(t.target=o),n=!0);var r=t.pageX||t.x;void 0===r&&(r=t.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));var s=t.pageY||t.y;void 0===s&&(s=t.clientY+(document.documentElement.scrollTop||document.body.scrollTop));var a=t.offsetX,u=t.offsetY;if(void 0===a&&void 0===u){var c=this.getElementPosition(o);a=r-c.left,u=s-c.top}return e&&(e.x&&(a/=e.x),e.y&&(u/=e.y)),{pageX:r,pageY:s,clientX:t.clientX,clientY:t.clientY,offsetX:a,offsetY:u,layerX:t.layerX,layerY:t.layerY,screenX:t.screenX,screenY:t.screenY,x:a,y:u,isTouch:n}}},{key:"isType",value:function(t,e){return!(!t||"object"!==a(t))&&t.constructor===e}},{key:"pointInPolygon",value:function(t,e,n){n=n||1,n/=2;var i,o,r=e.length,s=!1,a=!0;if(!e||0==r)return 0;if(1==r)return Math.abs(e[0].x-t.x)<=n&&Math.abs(e[0].y-t.y)<=n;if(2==r){if(Math.min(e[0].x,e[1].x)-t.x>n||t.x-Math.max(e[0].x,e[1].x)>n)return 0;if(Math.min(e[0].y,e[1].y)-t.y>n||t.y-Math.max(e[0].y,e[1].y)>n)return 0;if(e[0].x==e[1].x)return Math.abs(e[0].x-t.x)<=n&&(t.y-e[0].y)*(t.y-e[1].y)<=0?1:0;if(e[0].y==e[1].y)return Math.abs(e[0].y-t.y)<=n&&(t.x-e[0].x)*(t.x-e[1].x)<=0?1:0;if(Math.abs(e[0].x-t.x)<n&&Math.abs(e[0].y-t.y)<n)return 1;if(Math.abs(e[1].x-t.x)<n&&Math.abs(e[1].y-t.y)<n)return 1;if(t.y==e[0].y||t.y==e[1].y)return 0;var u=(e[1].x-e[0].x)/(e[1].y-e[0].y)*(t.y-e[0].y),c=(t.y-e[0].y)/Math.sqrt(u*u+(t.y-e[0].y)*(t.y-e[0].y))*(t.x-e[0].x-u);return Math.abs(c)<=n?1:0}for(i=0;i<r;++i)if(e[i].x==t.x&&e[i].y==t.y)return 1;for(;a;)for(s=a=!1,i=0,o=r-1;i<r;o=i++)if(e[i].y<t.y&&t.y<e[o].y||e[o].y<t.y&&t.y<e[i].y){if(t.x<=e[i].x||t.x<=e[o].x){var h=(t.y-e[i].y)*(e[o].x-e[i].x)/(e[o].y-e[i].y)+e[i].x;if(t.x<h)s=!s;else if(t.x==h)return 1}}else if(t.y==e[i].y){if(t.x<e[i].x){e[i].y>e[o].y?--t.y:++t.y,a=!0;break}}else if(e[i].y==e[o].y&&t.y==e[i].y&&(e[i].x<t.x&&t.x<e[o].x||e[o].x<t.x&&t.x<e[i].x)){s=!0;break}return s?2:0}},{key:"judge",value:function(t,e,n){n=n||1;for(var i=t.x,o=t.y,r=0,s=0,a=0,u=0;u<e.length-1;u++){var c=e[u],h=e[u+1];if(c.x!==h.x){var l=(h.y-c.y)/(h.x-c.x),f=(o-c.y)/l+c.x;f<i||(h.x>c.x&&f>=c.x&&f<=h.x&&(r++,0<=l?s++:a++),h.x<c.x&&f>=h.x&&f<=c.x&&(r++,0<=l?a++:s++))}else{if(i>c.x)continue;h.y>c.y&&o>=c.y&&o<=h.y&&(s++,r++),h.y<c.y&&o>=h.y&&o<=c.y&&(a++,r++)}}return 1===n?s-a!=0:r%2==1}},{key:"checkOutSide",value:function(t,e,n){var i={left:0,right:0,top:0,bottom:0};return n.x<0?i.left=e.left+n.x-t.left:0<n.x&&(i.right=e.right+n.x-t.right),n.y<0?i.top=e.top+n.y-t.top:0<n.y&&(i.bottom=e.bottom+n.y-t.bottom),i}},{key:"rotatePoints",value:function(t,e,n){if(!n||!t)return t;var i=Math.cos(n),o=Math.sin(n);if(t.length){for(var r=0;r<t.length;r++)if(t[r]){var s=t[r].x-e.x,a=t[r].y-e.y;t[r].x=s*i-a*o+e.x,t[r].y=s*o+a*i+e.y}}else{var u=t.x-e.x,c=t.y-e.y;t.x=u*i-c*o+e.x,t.y=u*o+c*i+e.y}return t}},{key:"trimStart",value:function(t,e){if(e=e||" ",t&&0<t.length){var n=t[0];if(n===e||0<=e.indexOf(n))return t=t.substring(1),this.trimStart(t,e)}return t}},{key:"trimEnd",value:function(t,e){if(e=e||" ",t&&0<t.length){var n=t[t.length-1];if(n===e||0<=e.indexOf(n))return t=t.substring(0,t.length-1),this.trimStart(t,e)}return t}},{key:"trim",value:function(t,e){return this.trimEnd(this.trimStart(t,e),e)}},{key:"checkPercent",value:function(t){if("string"==typeof t&&"%"==(t=this.trim(t))[t.length-1])return t}},{key:"percentToNumber",value:function(t){if("string"==typeof t){var e=this.checkPercent(t);e&&(t=this.trim(e,"% "),t/=100)}return t}},{key:"hexToNumber",value:function(t){if("string"!=typeof t)return t;for(var e=0,n=(t=t.toLowerCase()).length,i=0;i<n;i++){var o="0123456789abcdef".indexOf(t[i]);if(0!=o){for(var r=1;r<n-i;r++)o*=16;e+=o}}return e}},{key:"numberToHex",value:function(t){for(var e="";0<t;){e="0123456789abcdef"[t%16]+e,t=Math.floor(t/16)}return e}},{key:"toColor",value:function(t,e,n,i){return"string"==typeof t&&t&&"#"==(t=this.trim(t))[0]&&(8<=t.length?(i=t.substr(1,2),e=t.substr(5,2),n=t.substr(7,2),t=t.substr(3,2),i=(this.hexToNumber(i)/255).toFixed(4),t=this.hexToNumber(t||0),e=this.hexToNumber(e||0),n=this.hexToNumber(n||0)):5===t.length&&(i=t.substr(1,1),e=t.substr(3,1),n=t.substr(4,1),t=t.substr(2,1),t=this.hexToNumber(t||0),e=this.hexToNumber(e||0),n=this.hexToNumber(n||0),i=(this.hexToNumber(i)/255).toFixed(4))),void 0!==t&&void 0!==e&&void 0!==n?void 0!==i?"rgba("+t+","+e+","+n+","+i+")":"rgb("+t+","+e+","+n+")":t}}],(n=null)&&o(e.prototype,n),i&&o(e,i),t}();n.jmUtils=i},{"./jmList.js":2}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmArrawLine=void 0;var r=t("../shapes/jmLine.js"),s=t("../shapes/jmArraw.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=u(this,h(i).call(this,t,e||"jmArrawLine"))).style.lineJoin=n.style.lineJoin||"miter",n.arraw=new s.jmArraw(t),n}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,r.jmLine),e=i,(n=[{key:"initPoints",value:function(){return this.points=c(h(i.prototype),"initPoints",this).call(this),!1!==this.arrawVisible&&(this.points=this.points.concat(this.arraw.initPoints())),this.points}}])&&a(e.prototype,n),o&&a(e,o),i}();n.jmArrawLine=o},{"../shapes/jmArraw.js":14,"../shapes/jmLine.js":19}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmImage=void 0;var r=t("../shapes/jmControl.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=t||{},(n=a(this,u(i).call(this,t,e||"jmImage"))).style.fill=n.fill||"transparent",n.sourceWidth=t.sourceWidth,n.sourceHeight=t.sourceHeight,n.sourcePosition=t.sourcePosition,n.image=t.image||n.style.image,n}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,r.jmControl),e=i,(n=[{key:"draw",value:function(){try{var t=this.parent&&this.parent.absoluteBounds?this.parent.absoluteBounds:this.absoluteBounds;t||(t=this.parent&&this.parent.getAbsoluteBounds?this.parent.getAbsoluteBounds():this.getAbsoluteBounds());var e=this.getLocation();e.left+=t.left,e.top+=t.top;var n=this.sourcePosition,i=this.sourceWidth,o=this.sourceHeight,r=this.getImage();n||void 0!==i||void 0!==o?(void 0===i&&(i=e.width||r.width||0),void 0===o&&(o=e.height||r.height||0),n=n||{x:0,y:0},e.width&&e.height?this.context.drawImage(r,n.x,n.y,i,o,e.left,e.top,e.width,e.height):e.width?this.context.drawImage(r,n.x,n.y,i,o,e.left,e.top,e.width,o):e.height?this.context.drawImage(r,n.x,n.y,i,o,e.left,e.top,i,e.height):this.context.drawImage(r,n.x,n.y,i,o,e.left,e.top,i,o)):e?e.width&&e.height?this.context.drawImage(r,e.left,e.top,e.width,e.height):e.width?this.context.drawImage(r,e.left,e.top,e.width,r.height):e.height?this.context.drawImage(r,e.left,e.top,r.width,e.height):this.context.drawImage(r,e.left,e.top):this.context.drawImage(r)}catch(t){console.error&&console.error(t)}}},{key:"getBounds",value:function(){var t={},e=this.getImage(),n=this.getLocation(),i=n.width||e.width,o=n.height||e.height;return t.left=n.left,t.top=n.top,t.right=n.left+i,t.bottom=n.top+o,t.width=i,t.height=o,t}},{key:"getImage",value:function(){var t=this.image||this.style.src||this.style.image;return this.__img&&this.__img.src&&-1!=this.__img.src.indexOf(t)||(t&&t.src?this.__img=t:document&&document.createElement?(this.__img=document.createElement("img"),t&&"string"==typeof t&&(this.__img.src=t)):this.__img=t),this.__img}},{key:"sourcePosition",get:function(){return this.__pro("sourcePosition")},set:function(t){return this.__pro("sourcePosition",t)}},{key:"sourceWidth",get:function(){return this.__pro("sourceWidth")},set:function(t){return this.needUpdate=!0,this.__pro("sourceWidth",t)}},{key:"sourceHeight",get:function(){return this.__pro("sourceHeight")},set:function(t){return this.needUpdate=!0,this.__pro("sourceHeight",t)}},{key:"image",get:function(){return this.__pro("image")},set:function(t){return this.needUpdate=!0,this.__pro("image",t)}}])&&s(e.prototype,n),o&&s(e,o),i}();n.jmImage=o},{"../shapes/jmControl.js":17}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmLabel=void 0;var r=t("../shapes/jmControl.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=t||{},(n=a(this,c(i).call(this,t,e||"jmLabel"))).style.font=n.style.font||"15px Arial",n.style.fontFamily=n.style.fontFamily||"Arial",n.style.fontSize=n.style.fontSize||15,n.style.textAlign=n.style.textAlign||"left",n.style.textBaseline=n.style.textBaseline||"middle",n.text=t.text||"",n.center=t.center||null,n}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(i,r.jmControl),e=i,(n=[{key:"getLocation",value:function(){var t=u(c(i.prototype),"getLocation",this).call(this),e=this.testSize();return t.width=t.width||e.width,t.height=t.height||e.height,t.left||t.top||!t.center||(t.left=t.center.x-t.width/2,t.top=t.center.y-t.height/2),t}},{key:"initPoints",value:function(){this.__size=null;var t=this.getLocation();return this.points=[{x:t.left,y:t.top}],this.points.push({x:t.left+t.width,y:t.top}),this.points.push({x:t.left+t.width,y:t.top+t.height}),this.points.push({x:t.left,y:t.top+t.height}),this.points}},{key:"testSize",value:function(){return this.__size||(this.style.font=this.style.fontSize+"px "+this.style.fontFamily,this.context.save(),this.setStyle(),this.__size=this.context.measureText?this.context.measureText(this.text):{width:15},this.context.restore(),this.__size.height=this.style.fontSize?this.style.fontSize:15,this.width||(this.width=this.__size.width),this.height||(this.height=this.__size.height)),this.__size}},{key:"draw",value:function(){var t=this.parent&&this.parent.absoluteBounds?this.parent.absoluteBounds:this.absoluteBounds,e=(this.testSize(),this.location),n=e.left+t.left,i=e.top+t.top;switch(this.style.textAlign){case"right":n+=e.width;break;case"center":n+=e.width/2}switch(this.style.textBaseline){case"bottom":i+=e.height;break;case"hanging":case"alphabetic":case"middle":i+=e.height/2}var o=this.text;o&&(this.style.fill&&this.context.fillText?this.style.maxWidth?this.context.fillText(o,n,i,this.style.maxWidth):this.context.fillText(o,n,i):this.context.strokeText&&(this.style.maxWidth?this.context.strokeText(o,n,i,this.style.maxWidth):this.context.strokeText(o,n,i))),this.style.border&&(this.style.border.style&&(this.context.save(),this.setStyle(this.style.border.style)),this.context.moveTo(this.points[0].x+t.left,this.points[0].y+t.top),this.style.border.top&&this.context.lineTo(this.points[1].x+t.left,this.points[1].y+t.top),this.style.border.right&&(this.context.moveTo(this.points[1].x+t.left,this.points[1].y+t.top),this.context.lineTo(this.points[2].x+t.left,this.points[2].y+t.top)),this.style.border.bottom&&(this.context.moveTo(this.points[2].x+t.left,this.points[2].y+t.top),this.context.lineTo(this.points[3].x+t.left,this.points[3].y+t.top)),this.style.border.left&&(this.context.moveTo(this.points[3].x+t.left,this.points[3].y+t.top),this.context.lineTo(this.points[0].x+t.left,this.points[0].y+t.top)),this.style.border.style&&this.context.restore())}},{key:"text",get:function(){return this.__pro("text")},set:function(t){return this.needUpdate=!0,this.__pro("text",t)}},{key:"center",get:function(){return this.__pro("center")},set:function(t){return this.needUpdate=!0,this.__pro("center",t)}},{key:"position",get:function(){return this.__pro("position")},set:function(t){return this.needUpdate=!0,this.__pro("position",t)}}])&&s(e.prototype,n),o&&s(e,o),i}();n.jmLabel=o},{"../shapes/jmControl.js":17}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmResize=void 0;var r=t("../shapes/jmRect.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"jmResize";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=t||{},(e=a(this,u(i).call(this,t,n))).resizable=!1!==t.resizable,e.movable=t.movable,e.rectSize=t.rectSize||8,e.style.close=e.style.close||!0,e.init(t),e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,r.jmRect),e=i,(n=[{key:"init",value:function(t){if(!1!==this.resizable){this.resizeRects=[];var e=this.rectSize,n=this.style.rectStyle||{stroke:"red",fill:"transparent",lineWidth:2,close:!0,zIndex:100};n.close=!0,n.fill=n.fill||"transparent";for(var i=0;i<8;i++){var o=(this.graph||t.graph).createShape("rect",{position:{x:0,y:0},width:e,height:e,style:n,interactive:!0});o.index=i,o.visible=!0,this.resizeRects.push(o),this.children.add(o),o.canMove(!0,this.graph)}this.reset(0,0,0,0),this.bindRectEvents()}}},{key:"bindRectEvents",value:function(){for(var t=0;t<this.resizeRects.length;t++){var e=this.resizeRects[t];e.on("move",function(t){var e=0,n=0,i=0,o=0;0==this.index?(i=-t.offsetX,e=t.offsetX):1==this.index?(i=-t.offsetX,e=t.offsetX,o=-t.offsetY,n=t.offsetY):2==this.index?(o=-t.offsetY,n=t.offsetY):3==this.index?(i=t.offsetX,o=-t.offsetY,n=t.offsetY):4==this.index?i=t.offsetX:5==this.index?(i=t.offsetX,o=t.offsetY):6==this.index?o=t.offsetY:7==this.index&&(i=-t.offsetX,i=-t.offsetX,e=t.offsetX,o=t.offsetY),this.parent.reset(e,n,i,o),this.needUpdate=!0}),e.bind("mousemove",function(){this.cursor=["w-resize","nw-resize","n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize"][this.index]}),e.bind("mouseleave",function(){this.cursor="default"})}}},{key:"reset",value:function(t,e,n,i){var o=void 0===this.style.minWidth?5:this.style.minWidth,r=void 0===this.style.minHeight?5:this.style.minHeight,s=this.getLocation();if(0!=n||0!=i){var a=s.width+n,u=s.height+i;if(o<=a||r<=u){if(o<=a?this.width=a:n=t=0,r<=u?this.height=u:i=e=0,!1!==this.movable&&(t||e)){var c=this.position;c.x=s.left+t,c.y=s.top+e,this.position=c}this.emit("resize",t,e,n,i)}}for(var h in this.resizeRects){var l=this.resizeRects[h];switch(l.index){case 0:l.position.x=-l.width/2,l.position.y=(s.height-l.height)/2;break;case 1:l.position.x=-l.width/2,l.position.y=-l.height/2;break;case 2:l.position.x=(s.width-l.width)/2,l.position.y=-l.height/2;break;case 3:l.position.x=s.width-l.width/2,l.position.y=-l.height/2;break;case 4:l.position.x=s.width-l.width/2,l.position.y=(s.height-l.height)/2;break;case 5:l.position.x=s.width-l.width/2,l.position.y=s.height-l.height/2;break;case 6:l.position.x=(s.width-l.height)/2,l.position.y=s.height-l.height/2;break;case 7:l.position.x=-l.width/2,l.position.y=s.height-l.height/2}}}},{key:"rectSize",get:function(){return this.__pro("rectSize")},set:function(t){return this.__pro("rectSize",t)}},{key:"resizable",get:function(){return this.__pro("resizable")},set:function(t){return this.__pro("resizable",t)}}])&&s(e.prototype,n),o&&s(e,o),i}();n.jmResize=o},{"../shapes/jmRect.js":22}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"jmUtils",{enumerable:!0,get:function(){return a.jmUtils}}),Object.defineProperty(n,"jmList",{enumerable:!0,get:function(){return i.jmList}}),Object.defineProperty(n,"jmProperty",{enumerable:!0,get:function(){return o.jmProperty}}),Object.defineProperty(n,"jmShadow",{enumerable:!0,get:function(){return r.jmShadow}}),Object.defineProperty(n,"jmGradient",{enumerable:!0,get:function(){return u.jmGradient}}),Object.defineProperty(n,"jmEvents",{enumerable:!0,get:function(){return c.jmEvents}}),Object.defineProperty(n,"jmControl",{enumerable:!0,get:function(){return h.jmControl}}),Object.defineProperty(n,"jmPath",{enumerable:!0,get:function(){return l.jmPath}}),Object.defineProperty(n,"jmArc",{enumerable:!0,get:function(){return f.jmArc}}),Object.defineProperty(n,"jmArraw",{enumerable:!0,get:function(){return p.jmArraw}}),Object.defineProperty(n,"jmBezier",{enumerable:!0,get:function(){return y.jmBezier}}),Object.defineProperty(n,"jmCircle",{enumerable:!0,get:function(){return d.jmCircle}}),Object.defineProperty(n,"jmHArc",{enumerable:!0,get:function(){return m.jmHArc}}),Object.defineProperty(n,"jmLine",{enumerable:!0,get:function(){return v.jmLine}}),Object.defineProperty(n,"jmPrismatic",{enumerable:!0,get:function(){return b.jmPrismatic}}),Object.defineProperty(n,"jmRect",{enumerable:!0,get:function(){return g.jmRect}}),Object.defineProperty(n,"jmArrawLine",{enumerable:!0,get:function(){return j.jmArrawLine}}),Object.defineProperty(n,"jmImage",{enumerable:!0,get:function(){return _.jmImage}}),Object.defineProperty(n,"jmLabel",{enumerable:!0,get:function(){return w.jmLabel}}),Object.defineProperty(n,"jmResize",{enumerable:!0,get:function(){return x.jmResize}}),n.default=n.create=n.jmGraph=void 0;var a=t("./common/jmUtils.js"),i=t("./common/jmList.js"),o=t("./common/jmProperty.js"),r=t("./models/jmShadow.js"),u=t("./models/jmGradient.js"),c=t("./common/jmEvents.js"),h=t("./shapes/jmControl.js"),l=t("./shapes/jmPath.js"),f=t("./shapes/jmArc.js"),p=t("./shapes/jmArraw.js"),y=t("./shapes/jmBezier.js"),d=t("./shapes/jmCircle.js"),m=t("./shapes/jmHArc.js"),v=t("./shapes/jmLine.js"),b=t("./shapes/jmPrismatic.js"),g=t("./shapes/jmRect.js"),j=t("./controls/jmArrawLine.js"),_=t("./controls/jmImage.js"),w=t("./controls/jmLabel.js"),x=t("./controls/jmResize.js");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e,n){return(P=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&E(o,n.prototype),o}).apply(null,arguments)}function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function k(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U=function(t){function s(i,o,r){var t;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),"function"==typeof o&&(r=o,o={}),o=o||{},(this instanceof s?this.constructor:void 0)!==s)return k(t,new Promise(function(t,e){var n=new s(i,o,r);t&&t(n)}));if(o.interactive=!0,(t=k(this,S(s).call(this,o,"jmGraph"))).option=o||{},t.util=t.utils=a.jmUtils,"undefined"!=typeof wx&&wx.createCanvasContext)t.context=wx.createCanvasContext(i),i=wx.createSelectorQuery().select("#"+i);else{if("string"==typeof i&&"undefined"!=typeof document?i=document.getElementById(i):i.length&&(i=i[0]),"CANVAS"!=i.tagName){var e=document.createElement("canvas");i.appendChild(e),e.width=i.offsetWidth||i.clientWidth,e.height=i.offsetHeight||i.clientHeight,i=e}t.context=i.getContext("2d")}return t.canvas=i,t.init(r),t}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(s,h.jmControl),e=s,i=[{key:"create",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return P(s,e)}}],(n=[{key:"init",value:function(t){this.shapes={path:l.jmPath,arc:f.jmArc,arraw:p.jmArraw,bezier:y.jmBezier,circle:d.jmCircle,harc:m.jmHArc,line:v.jmLine,prismatic:b.jmPrismatic,rect:g.jmRect,arrawline:j.jmArrawLine,image:_.jmImage,img:_.jmImage,label:w.jmLabel,resize:x.jmResize},this.on("beginDraw",function(){this.context.translate(.5,.5)}),this.on("endDraw",function(){this.context.translate(-.5,-.5)}),0<this.option.width&&(this.width=this.option.width),0<this.option.height&&(this.height=this.option.height),this.eventHandler=new c.jmEvents(this,this.canvas.canvas||this.canvas),t&&t(this)}},{key:"getPosition",value:function(){var t=a.jmUtils.getElementPosition(this.canvas.canvas||this.canvas);return t.width=this.canvas.width,t.height=this.canvas.height,t.right=t.left+t.width,t.bottom=t.top+t.height,t}},{key:"registerShape",value:function(t,e){this.shapes[t]=e}},{key:"createShape",value:function(t,e){var n;if(n="function"==typeof t?t:this.shapes[t])return e||(e={}),e.graph=this,new n(e)}},{key:"createShadow",value:function(t,e,n,i){return new r.jmShadow(t,e,n,i)}},{key:"createLinearGradient",value:function(t,e,n,i){return new u.jmGradient({type:"linear",x1:t,y1:e,x2:n,y2:i})}},{key:"createRadialGradient",value:function(t,e,n,i,o,r){return new u.jmGradient({type:"radial",x1:t,y1:e,r1:n,x2:i,y2:o,r2:r})}},{key:"refresh",value:function(){this.redraw()}},{key:"redraw",value:function(t,e){this.clear(t||this.width,e||this.height),this.paint()}},{key:"clear",value:function(t,e){t&&e?(this.canvas.width=t,this.canvas.height=e,this.scaleSize&&this.context.scale&&this.context.scale(this.scaleSize.x,this.scaleSize.y)):(t=this.canvas.width,e=this.canvas.height,this.scaleSize&&(t/=this.scaleSize.x,e/=this.scaleSize.y)),this.style&&this.style.fill?this.points=[{x:0,y:0},{x:t,y:0},{x:t,y:e},{x:0,y:e}]:this.context.clearRect&&this.context.clearRect(0,0,t,e)}},{key:"css",value:function(t,e){if(this.canvas)return void 0!==e&&(this.canvas.style[t]=e),this.canvas.style[t]}},{key:"createPath",value:function(t,e){return this.createShape("path",{points:t,style:e})}},{key:"createLine",value:function(t,e,n){return this.createShape("line",{start:t,end:e,style:n})}},{key:"zoomOut",value:function(){this.scale(.9,.9)}},{key:"zoomIn",value:function(){this.scale(1.1,1.1)}},{key:"zoomActual",value:function(){this.scaleSize?this.scale(1/this.scaleSize.x,1/this.scaleSize.y):this.scale(1,1)}},{key:"scale",value:function(t,e){this.normalSize||(this.normalSize={width:this.canvas.width,height:this.canvas.height}),this.context.scale(t,e),this.scaleSize?this.scaleSize={x:t*this.scaleSize.x,y:e*this.scaleSize.y}:this.scaleSize={x:t,y:e},this.refresh()}},{key:"toDataURL",value:function(){return this.canvas.toDataURL?this.canvas.toDataURL():""}},{key:"autoRefresh",value:function(e){var n=this;return function t(){n.needUpdate&&n.redraw(),requestAnimationFrame(t),e&&e()}(),this}},{key:"width",get:function(){return this.canvas?this.canvas.width:0},set:function(t){return this.needUpdate=!0,this.canvas&&(this.canvas.width=t),t}},{key:"height",get:function(){return this.canvas?this.canvas.height:0},set:function(t){return this.needUpdate=!0,this.canvas&&(this.canvas.height=t),t}}])&&O(e.prototype,n),i&&O(e,i),s}();n.jmGraph=U;n.create=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return P(U,e)};var M=U;n.default=M},{"./common/jmEvents.js":1,"./common/jmList.js":2,"./common/jmProperty.js":4,"./common/jmUtils.js":5,"./controls/jmArrawLine.js":6,"./controls/jmImage.js":7,"./controls/jmLabel.js":8,"./controls/jmResize.js":9,"./models/jmGradient.js":11,"./models/jmShadow.js":12,"./shapes/jmArc.js":13,"./shapes/jmArraw.js":14,"./shapes/jmBezier.js":15,"./shapes/jmCircle.js":16,"./shapes/jmControl.js":17,"./shapes/jmHArc.js":18,"./shapes/jmLine.js":19,"./shapes/jmPath.js":20,"./shapes/jmPrismatic.js":21,"./shapes/jmRect.js":22}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmGradient=void 0;var m=t("../common/jmUtils.js"),o=t("../common/jmList.js");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var i=function(){function n(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.stops=new o.jmList,t&&"object"==r(t))for(var e in t)this[e]=t[e];else"string"==typeof t&&this.fromString(t)}var t,e,i;return t=n,(e=[{key:"addStop",value:function(t,e){this.stops.add({offset:t,color:e})}},{key:"toGradient",value:function(t){var i,e=t.context||t,n=t.absoluteBounds?t.absoluteBounds:t.getAbsoluteBounds(),o=this.x1||0,r=this.y1||0,s=this.x2,a=this.y2,u=t.getLocation(),c=0;u.radius&&(c=2*u.radius),c||(c=Math.min(u.width,u.height)),m.jmUtils.checkPercent(o)&&(o=m.jmUtils.percentToNumber(o)*(u.width||c)),m.jmUtils.checkPercent(s)&&(s=m.jmUtils.percentToNumber(s)*(u.width||c)),m.jmUtils.checkPercent(r)&&(r=m.jmUtils.percentToNumber(r)*(u.height||c)),m.jmUtils.checkPercent(a)&&(a=m.jmUtils.percentToNumber(a)*(u.height||c));var h=Number(o)+n.left,l=Number(r)+n.top,f=Number(s)+n.left,p=Number(a)+n.top;if("linear"===this.type)i=e.createLinearGradient(h,l,f,p);else if("radial"===this.type){var y=this.r1||0,d=this.r2;m.jmUtils.checkPercent(y)&&(y=m.jmUtils.percentToNumber(y),y*=c),m.jmUtils.checkPercent(d)&&(d=m.jmUtils.percentToNumber(d),d*=c),i=e.createCircularGradient?e.createCircularGradient(h,l,d):e.createRadialGradient(h,l,y,f,p,d)}return this.stops.each(function(t,e){var n=m.jmUtils.toColor(e.color);i.addColorStop(e.offset,n)}),i}},{key:"fromString",value:function(t){if(t){var e=t.match(/(linear|radial)-gradient\s*\(\s*([^,]+[^\)]+)\)/i);if(e&&!(e.length<3)){this.type=e[1].toLowerCase();var n=e[2].split(",");if(n.length){var i=m.jmUtils.trim(n[0]).split(/\s+/);if("linear"==this.type?i.length<=2?(this.x2=i[0],this.y2=i[1]||0):(this.x1=i[0],this.y1=i[1],this.x2=i[2],this.y2=i[3]):i.length<=3?(this.x2=i[0],this.y2=i[1]||0,this.r2=i[2]||0):(this.x1=i[0],this.y1=i[1],this.r1=i[2],this.x2=i[3],this.y2=i[3],this.r2=i[3]),1<n.length)for(var o=1;o<n.length;o++){var r=m.jmUtils.trim(n[o]).split(/\s+/);r.length&&this.addStop(r[1]||0,r[0])}}}}}},{key:"toString",value:function(){var n=this.type+"-gradient(";return"linear"==this.type?n+=this.x1+" "+this.y1+" "+this.x2+" "+this.y2:n+=this.x1+" "+this.y1+" "+this.r1+" "+this.x2+" "+this.y2+" "+this.r2,this.stops.each(function(t,e){n+=","+e.color+" "+e.offset}),n+")"}}])&&s(t.prototype,e),i&&s(t,i),n}();n.jmGradient=i},{"../common/jmList.js":2,"../common/jmUtils.js":5}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmShadow=void 0;var i=t("../common/jmUtils.js");function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function o(t,e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),"string"!=typeof t||e||n||i?(this.x=t,this.y=e,this.blur=n,this.color=i):this.fromString(t)}var t,e,n;return t=o,(e=[{key:"fromString",value:function(t){if(t){var e=t.match(/\s*([^,]+)\s*,\s*([^,]+)\s*(,[^,]+)?\s*(,[\s\S]+)?\s*/i);return e&&(this.x=e[1]||0,this.y=e[2]||0,e[3]&&(e[3]=i.jmUtils.trim(e[3],", "),0===e[3].indexOf("#")||/^rgb/i.test(e[3])?this.color=e[3]:this.blur=i.jmUtils.trim(e[3],", ")),e[4]&&(this.color=i.jmUtils.trim(e[4],", "))),this}}},{key:"toString",value:function(){var t=this.x+","+this.y;return this.blur&&(t+=","+this.blur),this.color&&(t+=","+this.color),t}}])&&r(t.prototype,e),n&&r(t,n),o}();n.jmShadow=o},{"../common/jmUtils.js":5}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmArc=void 0;var r=t("./jmPath.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"jmArc";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t||(t={}),(e=a(this,u(i).call(this,t,n))).center=t.center||{x:0,y:0},e.radius=t.radius||0,e.startAngle=t.start||t.startAngle||0,e.endAngle=t.end||t.endAngle||2*Math.PI,e.anticlockwise=t.anticlockwise||0,e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,r.jmPath),e=i,(n=[{key:"initPoints",value:function(){var t=this.getLocation(),e=0,n=0,i=t.center.x,o=t.center.y;t.radius?e=n=t.radius:(e=t.width/2,n=t.height/2);var r=this.startAngle,s=this.endAngle;if((0!=e||0!=n)&&r!=s){var a=this.anticlockwise;this.points=[];var u=1/Math.max(e,n);if(a){var c=2*Math.PI;r=c-r,s=c-s}s<r&&(u=-u);for(var h=r;;h+=u){0<u&&s<h?h=s:u<0&&h<s&&(h=s);var l={x:Math.cos(h)*e+i,y:Math.sin(h)*n+o};if(this.points.push(l),h==s)break}return this.points}}},{key:"center",get:function(){return this.__pro("center")},set:function(t){return this.needUpdate=!0,this.__pro("center",t)}},{key:"radius",get:function(){return this.__pro("radius")},set:function(t){return this.needUpdate=!0,this.__pro("radius",t)}},{key:"startAngle",get:function(){return this.__pro("startAngle")},set:function(t){return this.needUpdate=!0,this.__pro("startAngle",t)}},{key:"endAngle",get:function(){return this.__pro("endAngle")},set:function(t){return this.needUpdate=!0,this.__pro("endAngle",t)}},{key:"anticlockwise",get:function(){return this.__pro("anticlockwise")},set:function(t){return this.needUpdate=!0,this.__pro("anticlockwise",t)}}])&&s(e.prototype,n),o&&s(e,o),i}();n.jmArc=o},{"./jmPath.js":20}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmArraw=void 0;var r=t("./jmPath.js"),v=t("../common/jmUtils.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"jmArraw";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a(this,u(i).call(this,t,n))).style.lineJoin="miter",e.style.lineCap="square",e.angle=t.angle||0,e.start=t.start||{x:0,y:0},e.end=t.end||{x:0,y:0},e.offsetX=t.offsetX||5,e.offsetY=t.offsetY||8,e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,r.jmPath),e=i,(n=[{key:"initPoints",value:function(t){var e=this.angle,n=this.start,i=this.end;if(i){e||(e=Math.atan2(i.y-n.y,i.x-n.x)),this.points=[];var o=this.offsetX,r=this.offsetY,s=Math.atan2(o,r),a=e+s,u=Math.sin(a),c=Math.cos(a),h=Math.sqrt(o*o+r*r),l=u*h,f=c*h,p={x:i.x-f,y:i.y-l},y=e-s;l=(u=Math.sin(y))*h,f=(c=Math.cos(y))*h;var d={x:i.x-f,y:i.y-l},m=v.jmUtils.clone(i);return m.m=!0,this.points.push(m),this.points.push(p),t||this.style.fill?(this.points.push(d),this.points.push(i)):(this.points.push(m),this.points.push(d)),this.points}}},{key:"start",get:function(){return this.__pro("start")},set:function(t){return this.needUpdate=!0,this.__pro("start",t)}},{key:"end",get:function(){return this.__pro("end")},set:function(t){return this.needUpdate=!0,this.__pro("end",t)}},{key:"angle",get:function(){return this.__pro("angle")},set:function(t){return this.needUpdate=!0,this.__pro("angle",t)}},{key:"offsetX",get:function(){return this.__pro("offsetX")},set:function(t){return this.needUpdate=!0,this.__pro("offsetX",t)}},{key:"offsetY",get:function(){return this.__pro("offsetY")},set:function(t){return this.needUpdate=!0,this.__pro("offsetY",t)}}])&&s(e.prototype,n),o&&s(e,o),i}();n.jmArraw=o},{"../common/jmUtils.js":5,"./jmPath.js":20}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmBezier=void 0;var r=t("./jmPath.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"jmBezier";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t.style&&!0!==typeof t.style.close&&(t.style.close=!1),(e=a(this,u(i).call(this,t,n))).cpoints=t.points||[],e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,r.jmPath),e=i,(n=[{key:"initPoints",value:function(){this.points=[];for(var t=this.cpoints,e=0;e<=1;e+=.01){var n=this.getPoint(t,e);this.points.push(n)}return this.points.push(t[t.length-1]),this.points}},{key:"getPoint",value:function(t,e){if(1==t.length)return t[0];if(2==t.length){var n={};return n.x=(t[1].x-t[0].x)*e+t[0].x,n.y=(t[1].y-t[0].y)*e+t[0].y,n}if(2<t.length){for(var i=[],o=0;o<t.length-1;o++){var r=this.getPoint([t[o],t[o+1]],e);r&&i.push(r)}return this.getPoint(i,e)}}},{key:"offset",value:function(t,e,n){var i=this.cpoints;if(i){for(var o=i.length,r=0;r<o;r++)i[r].x+=t,i[r].y+=e;this.emit("move",{offsetX:t,offsetY:e,trans:n}),this.getLocation(!0)}}},{key:"cpoints",get:function(){return this.__pro("cpoints")},set:function(t){return this.needUpdate=!0,this.__pro("cpoints",t)}}])&&s(e.prototype,n),o&&s(e,o),i}();n.jmBezier=o},{"./jmPath.js":20}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmCircle=void 0;var r=t("./jmArc.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"jmCircle";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),a(this,u(n).call(this,t,e))}var e,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,r.jmArc),e=n,(i=[{key:"initPoints",value:function(){var t=this.getLocation();t.radius||(t.radius=Math.min(t.width,t.height)/2),this.points=[],this.points.push({x:t.center.x-t.radius,y:t.center.y-t.radius}),this.points.push({x:t.center.x+t.radius,y:t.center.y-t.radius}),this.points.push({x:t.center.x+t.radius,y:t.center.y+t.radius}),this.points.push({x:t.center.x-t.radius,y:t.center.y+t.radius})}},{key:"draw",value:function(){var t=this.parent&&this.parent.absoluteBounds?this.parent.absoluteBounds:this.absoluteBounds,e=this.getLocation();e.radius||(e.radius=Math.min(e.width,e.height)/2);var n=this.startAngle,i=this.endAngle,o=this.anticlockwise;this.context.arc(e.center.x+t.left,e.center.y+t.top,e.radius,n,i,o)}}])&&s(e.prototype,i),o&&s(e,o),n}();n.jmCircle=o},{"./jmArc.js":13}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmControl=void 0;var l=t("../common/jmUtils.js"),r=t("../common/jmList.js"),f=t("../models/jmGradient.js"),p=t("../models/jmShadow.js"),s=t("../common/jmProperty.js");function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var i=function(t){function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=t||{},(n=u(this,c(i).call(this))).__pro("type",e||(this instanceof i?this.constructor:void 0).name),n.style=t&&t.style?t.style:{},n.width=t.width||0,n.height=t.height||0,t.position&&(n.position=t.position),n.graph=t.graph||null,n.zIndex=t.zIndex||0,n.interactive=void 0===t.interactive||t.interactive,n.jmStyleMap={fill:"fillStyle",stroke:"strokeStyle","shadow.blur":"shadowBlur","shadow.x":"shadowOffsetX","shadow.y":"shadowOffsetY","shadow.color":"shadowColor",lineWidth:"lineWidth",miterLimit:"miterLimit",fillStyle:"fillStyle",strokeStyle:"strokeStyle",font:"font",opacity:"globalAlpha",textAlign:"textAlign",textBaseline:"textBaseline",shadowBlur:"shadowBlur",shadowOffsetX:"shadowOffsetX",shadowOffsetY:"shadowOffsetY",shadowColor:"shadowColor",lineJoin:"lineJoin",lineCap:"lineCap"},n.initializing(),n.on=n.bind,n}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(i,s.jmProperty),e=i,(n=[{key:"initializing",value:function(){var e=this;this.children=this.children||new r.jmList;var n=this.children.add;this.children.add=function(t){if("object"===y(t))return t.parent&&t.parent!=e&&t.parent.children&&t.parent.children.remove(t),t.parent=e,this.contain(t)&&this.oremove(t),n.call(this,t),t.emit("add",t),e.needUpdate=!0,e.graph&&(t.graph=e.graph),this.sort(),t},this.children.oremove=this.children.remove,this.children.remove=function(t){"object"===y(t)&&(t.parent=null,t.graph=null,t.remove(!0),this.oremove(t),e.needUpdate=!0)},this.children.sort=function(){var i={};for(var t in this.each(function(t,e){if(e){var n=e.zIndex;if(!n&&e.style&&e.style.zIndex&&(n=Number(e.style.zIndex),isNaN(n)&&(n=e.style.zIndex||0)),n)(i[n]||(i[n]=[])).push(e)}}),i)n.call(this,i[t]);e.needUpdate=!0},this.children.clear=function(){this.each(function(t,e){this.remove(e)},!0)},this.needUpdate=!0}},{key:"setStyle",value:function(t){var h=this;if(t=t||this.style){var e=function t(e,n,i){if(e){var o=y(e),r=h.jmStyleMap[i||n];if(e instanceof f.jmGradient||"string"==o&&-1<e.indexOf("-gradient"))"string"==o&&-1<e.indexOf("-gradient")&&(e=new f.jmGradient(e)),t(e.toGradient(h),r||n);else if("function"==o)r&&(e=e.call(h,r))&&t(e,r);else if(r)"string"==o&&-1<["fillStyle","strokeStyle","shadowColor"].indexOf(r)&&(e=l.jmUtils.toColor(e)),h.context[r]=e;else switch(n){case"shadow":if("string"==o){t(new p.jmShadow(e),n);break}for(var s in e)t(e[s],s,n+"."+s);break;case"translate":h.context.translate(e.x,e.y);break;case"rotation":var a=0,u=0;if(e.point){var c=h.absoluteBounds?h.absoluteBounds:h.getAbsoluteBounds();a=(e=h.getRotation(e)).rotateX+c.left,u=e.rotateY+c.top}0==a&&0==u||h.context.translate(a,u),h.context.rotate(e.angle),0==a&&0==u||h.context.translate(-a,-u);break;case"transform":Array.isArray(e)?h.context.transform.apply(h.context,e):"object"==y(e)&&h.context.transform(e.scaleX,e.skewX,e.skewY,e.scaleY,e.offsetX,e.offsetY);break;case"translate":h.context.translate(e.x,e.y);break;case"cursor":h.cursor=e}}};for(var n in this.translate&&e({translate:this.translate},"translate"),this.transform&&e({transform:this.transform},"transform"),t){var i=y(t[n]);"string"==i&&-1<t[n].indexOf("-gradient")?t[n]=new f.jmGradient(t[n]):"string"==i&&"shadow"==n&&(t[n]=new p.jmShadow(t[n])),e(t[n],n)}}}},{key:"getBounds",value:function(t){if(this.bounds&&!t)return this.bounds;var e={};if("jmGraph"==this.type&&this.canvas)"function"==typeof this.canvas.width?e.right=this.canvas.width():this.canvas.width?e.right=this.canvas.width:this.width&&(e.right=this.width),"function"==typeof this.canvas.height?e.bottom=this.canvas.height():this.canvas.height?e.bottom=this.canvas.height:this.height&&(e.bottom=this.height);else if(this.points&&0<this.points.length)for(var n in this.points){var i=this.points[n];(void 0===e.left||e.left>i.x)&&(e.left=i.x),(void 0===e.top||e.top>i.y)&&(e.top=i.y),(void 0===e.right||e.right<i.x)&&(e.right=i.x),(void 0===e.bottom||e.bottom<i.y)&&(e.bottom=i.y)}else if(this.getLocation){var o=this.getLocation();o&&(e.left=o.left,e.top=o.top,e.right=o.left+o.width,e.bottom=o.top+o.height)}return e.left||(e.left=0),e.top||(e.top=0),e.right||(e.right=0),e.bottom||(e.bottom=0),e.width=e.right-e.left,e.height=e.bottom-e.top,this.bounds=e}},{key:"getLocation",value:function(){!(0<arguments.length&&void 0!==arguments[0])||arguments[0];var t=this.location={left:0,top:0,width:0,height:0};t.position="function"==typeof this.position?this.position():l.jmUtils.clone(this.position),t.center=this.center&&"function"==typeof this.center?this.center():l.jmUtils.clone(this.center),t.start=this.start&&"function"==typeof this.start?this.start():l.jmUtils.clone(this.start),t.end=this.end&&"function"==typeof this.end?this.end():l.jmUtils.clone(this.end),t.radius=this.radius,t.width=this.width,t.height=this.height;var e=this.style.margin||{};if(e.left=e.left||0,e.top=e.top||0,e.right=e.right||0,e.bottom=e.bottom||0,t.position?(t.left=t.position.x,t.top=t.position.y):(t.left=e.left,t.top=e.top),!this.parent)return t;var n=this.parent.getBounds();return l.jmUtils.checkPercent(t.left)&&(t.left=l.jmUtils.percentToNumber(t.left)*n.width),l.jmUtils.checkPercent(t.top)&&(t.top=l.jmUtils.percentToNumber(t.top)*n.height),l.jmUtils.checkPercent(t.width)&&(t.width=l.jmUtils.percentToNumber(t.width)*n.width),l.jmUtils.checkPercent(t.height)&&(t.height=l.jmUtils.percentToNumber(t.height)*n.height),t.center&&(l.jmUtils.checkPercent(t.center.x)&&(t.center.x=l.jmUtils.percentToNumber(t.center.x)*n.width),l.jmUtils.checkPercent(t.center.y)&&(t.center.y=l.jmUtils.percentToNumber(t.center.y)*n.height)),t.radius&&l.jmUtils.checkPercent(t.radius)&&(t.radius=l.jmUtils.percentToNumber(t.radius)*Math.min(n.width,n.height)),t}},{key:"getRotation",value:function(t){if(t=t||this.style.rotation){var e=this.getBounds();t.rotateX=t.point.x,l.jmUtils.checkPercent(t.rotateX)&&(t.rotateX=l.jmUtils.percentToNumber(t.rotateX)*e.width),t.rotateY=t.point.y,l.jmUtils.checkPercent(t.rotateY)&&(t.rotateY=l.jmUtils.percentToNumber(t.rotateY)*e.height)}else if(t=this.parent&&this.parent.getRotation?this.parent.getRotation():null){var n=this.getBounds();t.rotateX-=n.left,t.rotateY-=n.top}return t}},{key:"remove",value:function(){this.parent&&this.parent.children.remove(this)}},{key:"offset",value:function(t,e,n,i){n=!1!==n;var o=this.getLocation(!0),r=!1;if(o.position&&(o.left+=t,o.top+=e,this.position.x=o.left,this.position.y=o.top,r=!0),o.center&&(this.center.x=o.center.x+t,this.center.y=o.center.y+e,r=!0),o.start&&"object"==y(o.start)&&(this.start.x=o.start.x+t,this.start.y=o.start.y+e,r=!0),o.end&&"object"==y(o.end)&&(this.end.x=o.end.x+t,this.end.y=o.end.y+e,r=!0),0==r&&this.cpoints){var s=(this.cpoints,this.cpoints);if(s){for(var a=s.length,u=0;u<a;u++)s[u].x+=t,s[u].y+=e;r=!0}}if(0==r&&this.points){for(var c=this.points.length,h=0;h<c;h++)this.points[h].x+=t,this.points[h].y+=e;r=!0}this.emit("move",{offsetX:t,offsetY:e,trans:n,evt:i}),this.needUpdate=!0}},{key:"rotate",value:function(t,e){this.style.rotation={angle:t,point:e},this.needUpdate=!0}},{key:"getAbsoluteBounds",value:function(){var t=this.getBounds();if(this.parent&&this.parent.absoluteBounds){var e=this.parent.absoluteBounds||this.parent.getAbsoluteBounds();return{left:e.left+t.left,top:e.top+t.top,right:e.left+t.right,bottom:e.top+t.bottom,width:t.width,height:t.height}}return t}},{key:"beginDraw",value:function(){this.getLocation(!0),this.context.beginPath()}},{key:"endDraw",value:function(){this.style.close&&this.context.closePath(),this.style.fill&&this.context.fill(),!this.style.stroke&&this.style.fill||this.context.stroke(),this.needUpdate=!1}},{key:"draw",value:function(){if(this.points&&0<this.points.length){var t=this.parent&&this.parent.absoluteBounds?this.parent.absoluteBounds:this.absoluteBounds;this.context.moveTo(this.points[0].x+t.left,this.points[0].y+t.top);for(var e=this.points.length,n=1;n<e;n++){var i=this.points[n];i.m?this.context.moveTo(i.x+t.left,i.y+t.top):this.context.lineTo(i.x+t.left,i.y+t.top)}}}},{key:"paint",value:function(t){if(!1!==t&&!1!==this.visible){this.initPoints&&this.initPoints(),this.bounds=null,this.absoluteBounds=this.getAbsoluteBounds();var e=!0;!this.is("jmGraph")&&this.graph&&(this.absoluteBounds.left>=this.graph.width?e=!1:this.absoluteBounds.top>=this.graph.height?e=!1:this.absoluteBounds.right<=0?e=!1:this.absoluteBounds.bottom<=0&&(e=!1)),this.context.save(),this.setStyle(),this.emit("beginDraw",this),e&&this.beginDraw&&this.beginDraw(),e&&this.draw&&this.draw(),e&&this.endDraw&&this.endDraw(),this.children&&this.children.each(function(t,e){e&&e.paint&&e.paint()}),this.emit("endDraw",this),this.context.restore(),this.is("jmGraph")&&this.context.draw&&this.context.draw(),this.needUpdate=!1}}},{key:"getEvent",value:function(t){return this.__events?this.__events[t]:null}},{key:"bind",value:function(t,e){var n=this.getEvent(t)||function(t,e){return this.__events||(this.__events={}),this.__events[t]=e}.call(this,t,new r.jmList);n.contain(e)||n.add(e)}},{key:"unbind",value:function(t,e){var n=this.getEvent(t);n&&(e?n.remove(e):n.clear())}},{key:"emit",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.runEventHandle(e[0],e.slice(1)),this}},{key:"runEventHandle",value:function(t,n){var e=this.getEvent(t);if(e){var i=this;Array.isArray(n)||(n=[n]),e.each(function(t,e){!1===e.apply(i,n)&&(n.cancel=!0)})}return n.cancel}},{key:"checkPoint",value:function(t,e){if("jmGraph"==this.type){var n=this.getPosition();return!(t.pageX>n.right||t.pageX<n.left)&&!(t.pageY>n.bottom||t.pageY<n.top)}var i=this.getBounds(),o=this.getRotation(),r=this.points;if(r&&r.length||((r=[]).push({x:i.left,y:i.top}),r.push({x:i.right,y:i.top}),r.push({x:i.right,y:i.bottom}),r.push({x:i.left,y:i.bottom}),r.push({x:i.left,y:i.top})),e=Number(e||this.style.touchPadding||this.style.lineWidth||1),r&&r.length){if(o&&0!=o.angle&&(r=l.jmUtils.clone(r,!0),r=l.jmUtils.rotatePoints(r,{x:o.rotateX+i.left,y:o.rotateY+i.top},o.angle)),2<r.length&&(!this.style.fill||this.style.stroke)){for(var s=0,a=r.length,u=s+1;u<=a;u=++s+1){if(u==a){if(this.style.close)if(l.jmUtils.pointInPolygon(t,[r[s],r[0]],e))return!0}else if(l.jmUtils.pointInPolygon(t,[r[s],r[u]],e))return!0}if(!this.style.fill)return!1}return l.jmUtils.pointInPolygon(t,r,e)}return!(t.x>i.right||t.x<i.left)&&!(t.y>i.bottom||t.y<i.top)}},{key:"raiseEvent",value:function(n,i){if(!1!==this.visible){if(!i.position){var t=this.graph,e=l.jmUtils.getEventPosition(i,t.scaleSize),o=i.srcElement||i.target;i={position:e,button:0==i.button||e.isTouch?1:i.button,keyCode:i.keyCode||i.charCode||i.which,ctrlKey:i.ctrlKey,cancel:!1,event:i,srcElement:o}}i.path=i.path||[],this.children&&this.children.each(function(t,e){if(i.target)return!1;!0!==i.cancel&&e.raiseEvent(n,i)},!0);var r=this.parent&&this.parent.absoluteBounds?this.parent.absoluteBounds:this.absoluteBounds;return!!r&&(i.position.x=i.position.offsetX-r.left,i.position.y=i.position.offsetY-r.top,!1!==this.interactive&&!i.target&&this.checkPoint(i.position)?(i.target||(i.target=this),this.runEventAndPopEvent(n,i),this.focused||"mousemove"!=n||(this.focused=!0,this.raiseEvent("mouseover",i))):!1!==this.interactive&&"jmGraph"!=this.type&&this.focused&&"mousemove"==n&&(this.focused=!1,this.runEventHandle("mouseleave",i)),0==i.cancel)}}},{key:"runEventAndPopEvent",value:function(t,e){if(!0!==e.cancel&&(e.path.push(this),this.runEventHandle(t,e),!0!==e.cancel&&this.parent&&this.parent.runEventAndPopEvent)){if(e.position){var n=this.parent.getBounds();e.position.x+=n.left,e.position.y+=n.top}this.parent.runEventAndPopEvent(t,e)}}},{key:"clearEvents",value:function(t){var e=this.getEvent(t);e&&e.clear}},{key:"findParent",value:function(t){if("string"==typeof t){if(this.type==t)return this}else if(this.is(t))return this;return this.parent?this.parent.findParent(t):null}},{key:"canMove",value:function(t,e){if(!this.__mvMonitor){this.__mvMonitor={},this.__mvMonitor.mouseDown=!1,this.__mvMonitor.curposition={x:0,y:0};var a=this;this.__mvMonitor.mv=function(t){var e=a;if(e.__mvMonitor.mouseDown){e.parent.bounds=null;var n=e.parent.getAbsoluteBounds(),i=t.position.offsetX-e.__mvMonitor.curposition.x,o=t.position.offsetY-e.__mvMonitor.curposition.y;if(e.lockSide){var r=e.bounds||e.getAbsoluteBounds(),s=l.jmUtils.checkOutSide(n,r,{x:i,y:o});s.left<0?e.lockSide.left&&(i-=s.left):0<s.right&&e.lockSide.right&&(i-=s.right),s.top<0?e.lockSide.top&&(o-=s.top):0<s.bottom&&e.lockSide.bottom&&(o-=s.bottom)}return(i||o)&&(e.offset(i,o,!0,t),e.__mvMonitor.curposition.x=t.position.offsetX,e.__mvMonitor.curposition.y=t.position.offsetY),!1}},this.__mvMonitor.mu=function(t){var e=a;e.__mvMonitor.mouseDown&&(e.__mvMonitor.mouseDown=!1,e.emit("moveend",{position:e.__mvMonitor.curposition}))},this.__mvMonitor.ml=function(){var t=a;if(t.__mvMonitor.mouseDown)return t.__mvMonitor.mouseDown=!1,t.emit("moveend",{position:t.__mvMonitor.curposition}),!1},this.__mvMonitor.md=function(t){if(!this.__mvMonitor.mouseDown)return 0==t.button||1==t.button?(this.__mvMonitor.mouseDown=!0,this.__mvMonitor.curposition.x=t.position.offsetX,this.__mvMonitor.curposition.y=t.position.offsetY,this.emit("movestart",{position:this.__mvMonitor.curposition}),!(t.cancel=!0)):void 0}}return e=e||this.graph,!1!==t?(e.bind("mousemove",this.__mvMonitor.mv),e.bind("mouseup",this.__mvMonitor.mu),e.bind("mouseleave",this.__mvMonitor.ml),this.bind("mousedown",this.__mvMonitor.md),e.bind("touchmove",this.__mvMonitor.mv),e.bind("touchend",this.__mvMonitor.mu),this.bind("touchstart",this.__mvMonitor.md)):(e.unbind("mousemove",this.__mvMonitor.mv),e.unbind("mouseup",this.__mvMonitor.mu),e.unbind("mouseleave",this.__mvMonitor.ml),this.unbind("mousedown",this.__mvMonitor.md),e.unbind("touchmove",this.__mvMonitor.mv),e.unbind("touchend",this.__mvMonitor.mu),this.unbind("touchstart",this.__mvMonitor.md)),this}},{key:"type",get:function(){return this.__pro("type")}},{key:"context",get:function(){var t=this.__pro("context");if(t)return t;if(this.is("jmGraph")&&this.canvas)return this.context=this.canvas.getContext("2d");var e=this.graph;return e?e.context:e.canvas.getContext("2d")},set:function(t){return this.__pro("context",t)}},{key:"style",get:function(){var t=this.__pro("style");return t||(t=this.__pro("style",{})),t},set:function(t){return this.needUpdate=!0,this.__pro("style",t)}},{key:"visible",get:function(){var t=this.__pro("visible");return void 0===t&&(t=this.__pro("visible",!0)),t},set:function(t){return this.needUpdate=!0,this.__pro("visible",t)}},{key:"interactive",get:function(){return this.__pro("interactive")},set:function(t){return this.__pro("interactive",t)}},{key:"children",get:function(){var t=this.__pro("children");return t||(t=this.__pro("children",new r.jmList)),t},set:function(t){return this.needUpdate=!0,this.__pro("children",t)}},{key:"width",get:function(){var t=this.__pro("width");return void 0===t&&(t=this.__pro("width",0)),t},set:function(t){return this.needUpdate=!0,this.__pro("width",t)}},{key:"height",get:function(){var t=this.__pro("height");return void 0===t&&(t=this.__pro("height",0)),t},set:function(t){return this.needUpdate=!0,this.__pro("height",t)}},{key:"zIndex",get:function(){var t=this.__pro("zIndex");return t||(t=this.__pro("zIndex",0)),t},set:function(t){return this.needUpdate=!0,this.__pro("zIndex",t),this.children.sort(),this.needUpdate=!0,t}},{key:"cursor",set:function(t){var e=this.graph;e&&e.css("cursor",t)},get:function(){var t=this.graph;if(t)return t.css("cursor")}}])&&a(e.prototype,n),o&&a(e,o),i}();n.jmControl=i},{"../common/jmList.js":2,"../common/jmProperty.js":4,"../common/jmUtils.js":5,"../models/jmGradient.js":11,"../models/jmShadow.js":12}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmHArc=void 0;var r=t("./jmArc.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"jmHArc";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a(this,u(i).call(this,t,n))).minRadius=t.minRadius||style.minRadius||0,e.maxRadius=t.maxRadius||style.maxRadius||0,e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,r.jmArc),e=i,(n=[{key:"initPoints",value:function(){var t=this.getLocation(),e=this.minRadius,n=this.maxRadius,i=this.startAngle,o=this.endAngle;if(this.anticlockwise){var r=2*Math.PI;i=r-i,o=r-o}var s=.1;o<i&&(s=-s);for(var a=[],u=[],c=i;!(0<s&&o<=c)&&!(s<0&&c<=o);c+=s){var h=Math.cos(c),l=Math.sin(c),f={x:h*e+t.center.x,y:l*e+t.center.y},p={x:h*n+t.center.x,y:l*n+t.center.y};a.push(f),u.push(p)}u.reverse(),this.style&&this.style.close||(u[0].m=!0),this.points=a.concat(u)}},{key:"minRadius",get:function(){return this.__pro("minRadius")},set:function(t){return this.needUpdate=!0,this.__pro("minRadius",t)}},{key:"maxRadius",get:function(){return this.__pro("maxRadius")},set:function(t){return this.needUpdate=!0,this.__pro("maxRadius",t)}}])&&s(e.prototype,n),o&&s(e,o),i}();n.jmHArc=o},{"./jmArc.js":13}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmLine=void 0;var r=t("./jmPath.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"jmLine";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a(this,u(i).call(this,t,n))).start=t.start||{x:0,y:0},e.end=t.end||{x:0,y:0},e.style.lineType=e.style.lineType||"solid",e.style.dashLength=e.style.dashLength||4,e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,r.jmPath),e=i,(n=[{key:"initPoints",value:function(){var t=this.start,e=this.end;if(this.points=[],this.points.push(t),"dotted"===this.style.lineType){var n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i);n/=o,i/=o;for(var r=!1,s=this.style.dashLength||5,a=s/2,u=s;u<=o;)0==r?(this.points.push({x:t.x+n*u,y:t.y+i*u}),u+=a):(this.points.push({x:t.x+n*u,y:t.y+i*u,m:!0}),u+=s),r=!r}return this.points.push(e),this.points}},{key:"start",get:function(){return this.__pro("start")},set:function(t){return this.needUpdate=!0,this.__pro("start",t)}},{key:"end",get:function(){return this.__pro("end")},set:function(t){return this.needUpdate=!0,this.__pro("end",t)}}])&&s(e.prototype,n),o&&s(e,o),i}();n.jmLine=o},{"./jmPath.js":20}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmPath=void 0;var r=t("./jmControl.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"jmPath";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a(this,u(i).call(this,t,n))).points=t&&t.points?t.points:[],e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,r.jmControl),e=i,(n=[{key:"points",get:function(){return this.__pro("points")},set:function(t){return this.needUpdate=!0,this.__pro("points",t)}}])&&s(e.prototype,n),o&&s(e,o),i}();n.jmPath=o},{"./jmControl.js":17}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmPrismatic=void 0;var r=t("./jmPath.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"jmPrismatic";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a(this,u(i).call(this,t,n))).style.close=void 0===e.style.close||e.style.close,e.center=t.center||{x:0,y:0},e.width=t.width||0,e.height=t.height||0,e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,r.jmPath),e=i,(n=[{key:"initPoints",value:function(){var t=this.getLocation(),e=t.width/2,n=t.height/2;this.points=[],this.points.push({x:t.center.x-e,y:t.center.y}),this.points.push({x:t.center.x,y:t.center.y+n}),this.points.push({x:t.center.x+e,y:t.center.y}),this.points.push({x:t.center.x,y:t.center.y-n})}},{key:"center",get:function(){return this.__pro("center")},set:function(t){return this.needUpdate=!0,this.__pro("center",t)}}])&&s(e.prototype,n),o&&s(e,o),i}();n.jmPrismatic=o},{"./jmPath.js":20}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jmRect=void 0;var r=t("./jmPath.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"jmRect";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=t||{},(e=a(this,u(i).call(this,t,n))).style.close=!0,e.radius=t.radius||e.style.radius||0,e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,r.jmPath),e=i,(n=[{key:"getBounds",value:function(){var t={};this.initPoints();var e=this.getLocation();return t.left=e.left,t.top=e.top,t.right=e.left+e.width,t.bottom=e.top+e.height,t.width=t.right-t.left,t.height=t.bottom-t.top,t}},{key:"initPoints",value:function(){var t=this.getLocation(),e={x:t.left,y:t.top},n={x:t.left+t.width,y:t.top},i={x:t.left+t.width,y:t.top+t.height},o={x:t.left,y:t.top+t.height};if("dotted"!==this.style.lineType||this.dottedLine||(this.dottedLine=this.graph.createShape("line",{style:this.style})),t.radius&&t.radius<t.width/2&&t.radius<t.height/2){var r=Math.PI/2,s=this.graph.createShape("arc",{radius:t.radius,anticlockwise:!1});s.center={x:t.left+t.radius,y:t.top+t.radius},s.startAngle=Math.PI,s.endAngle=Math.PI+r;var a=s.initPoints();(s=this.graph.createShape("arc",{radius:t.radius,anticlockwise:!1})).center={x:n.x-t.radius,y:n.y+t.radius},s.startAngle=Math.PI+r,s.endAngle=2*Math.PI;var u=s.initPoints();(s=this.graph.createShape("arc",{radius:t.radius,anticlockwise:!1})).center={x:i.x-t.radius,y:i.y-t.radius},s.startAngle=0,s.endAngle=r;var c=s.initPoints();(s=this.graph.createShape("arc",{radius:t.radius,anticlockwise:!1})).center={x:o.x+t.radius,y:o.y-t.radius},s.startAngle=r,s.endAngle=Math.PI;var h=s.initPoints();this.points=a.concat(u,c,h)}else this.points=[],this.points.push(e),this.dottedLine&&(this.dottedLine.start=e,this.dottedLine.end=n,this.points=this.points.concat(this.dottedLine.initPoints())),this.points.push(n),this.dottedLine&&(this.dottedLine.start=n,this.dottedLine.end=i,this.points=this.points.concat(this.dottedLine.initPoints())),this.points.push(i),this.dottedLine&&(this.dottedLine.start=i,this.dottedLine.end=o,this.points=this.points.concat(this.dottedLine.initPoints())),this.points.push(o),this.dottedLine&&(this.dottedLine.start=o,this.dottedLine.end=e,this.points=this.points.concat(this.dottedLine.initPoints()));return this.points}},{key:"radius",get:function(){return this.__pro("radius")},set:function(t){return this.needUpdate=!0,this.__pro("radius",t)}},{key:"position",get:function(){return this.__pro("position")},set:function(t){return this.needUpdate=!0,this.__pro("position",t)}}])&&s(e.prototype,n),o&&s(e,o),i}();n.jmRect=o},{"./jmPath.js":20}]},{},[10])(10);return o.jmGraph=i},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t.bind(o)):t()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);